√
óE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Configurations\Implementations\WebshopConfigurationService.cs
	namespace

 	
Webshop


 
.

 
DAL

 
.

 
Configurations

 $
.

$ %
Implementations

% 4
{ 
public 

class '
WebshopConfigurationService ,
:- .(
IWebshopConfigurationService/ K
{ 
private 
readonly  
WebshopConfiguration -
_config. 5
;5 6
private 
readonly 
string 
_defaultContentPath  3
;3 4
private 
const 
string 
_staticRequestPath /
=0 1
$str2 9
;9 :
private 
const 
string 
_imagesRelativePath 0
=1 2
$str3 ;
;; <
private 
const 
string 
_caffsRelativePath /
=0 1
$str2 9
;9 :
private 
const 
string !
_caffMetaRelativePath 2
=3 4
$str5 F
;F G
public '
WebshopConfigurationService *
(* +
IOptions+ 3
<3 4 
WebshopConfiguration4 H
>H I
optionsJ Q
,Q R
IHostingEnvironmentS f
environmentg r
)r s
{ 	
_defaultContentPath 
=  !
environment" -
.- .
WebRootPath. 9
;9 :
_config 
= 
options 
. 
Value #
;# $
} 	
public 
int 
GetMaxUploadCount $
($ %
)% &
{ 	
return 
_config 
. 
MaxUploadCount )
;) *
} 	
public   
int   
GetMaxUploadSize   #
(  # $
)  $ %
{!! 	
return"" 
_config"" 
."" 
MaxUploadCount"" )
;"") *
}## 	
public%% 
string%% %
GetStaticFilePhysicalPath%% /
(%%/ 0
)%%0 1
{&& 	
var'' 
webroot'' 
='' 
string''  
.''  !
IsNullOrWhiteSpace''! 3
(''3 4
_config''4 ;
.''; <
StaticFilePath''< J
)''J K
?''L M
_defaultContentPath''N a
:''b c
_config''d k
.''k l
StaticFilePath''l z
;''z {
return(( 
webroot(( 
;(( 
})) 	
public++ 
string++ !
GetImagesSubdirectory++ +
(+++ ,
)++, -
{,, 	
return-- 
_imagesRelativePath-- &
;--& '
}.. 	
public00 
string00 $
GetStaticFileRequestPath00 .
(00. /
)00/ 0
{11 	
return22 
_staticRequestPath22 %
;22% &
}33 	
public55 
string55  
GetCaffsSubdirectory55 *
(55* +
)55+ ,
{66 	
return77 
_caffsRelativePath77 %
;77% &
}88 	
public:: 
string:: #
GetCaffMetaSubdirectory:: -
(::- .
)::. /
{;; 	
return<< !
_caffMetaRelativePath<< (
;<<( )
}== 	
}>> 
}?? Ù
ìE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Configurations\Interfaces\IWebshopConfigurationService.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Configurations $
.$ %

Interfaces% /
{ 
public		 

	interface		 (
IWebshopConfigurationService		 1
{

 
int 
GetMaxUploadCount 
( 
) 
;  
int 
GetMaxUploadSize 
( 
) 
; 
string %
GetStaticFilePhysicalPath (
(( )
)) *
;* +
string $
GetStaticFileRequestPath '
(' (
)( )
;) *
string !
GetImagesSubdirectory $
($ %
)% &
;& '
string  
GetCaffsSubdirectory #
(# $
)$ %
;% &
string #
GetCaffMetaSubdirectory &
(& '
)' (
;( )
} 
} å
ÄE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Configurations\WebshopConfiguration.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Configurations $
{ 
public		 

class		  
WebshopConfiguration		 %
{

 
public 
int 
MaxUploadSize  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
$num1 3
;3 4
public 
int 
MaxUploadCount !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$num2 3
;3 4
public 
string 
StaticFilePath $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
string5 ;
.; <
Empty< A
;A B
} 
} ™
sE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Domain\ApplicationRole.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Domain 
{ 
public 

class 
ApplicationRole  
:! "
IdentityRole# /
</ 0
Guid0 4
>4 5
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
} 
}		 √
sE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Domain\ApplicationUser.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Domain 
{ 
public 

class 
ApplicationUser  
:! "
IdentityUser# /
</ 0
Guid0 4
>4 5
{		 
public

 
string

 
	FirstName

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
string

0 6
.

6 7
Empty

7 <
;

< =
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
virtual 
ICollection "
<" #
IdentityUserClaim# 4
<4 5
Guid5 9
>9 :
>: ;
Claims< B
{C D
getE H
;H I
setJ M
;M N
}O P
=Q R
newS V
ListW [
<[ \
IdentityUserClaim\ m
<m n
Guidn r
>r s
>s t
(t u
)u v
;v w
public 
virtual 
ICollection "
<" #
IdentityUserLogin# 4
<4 5
Guid5 9
>9 :
>: ;
Logins< B
{C D
getE H
;H I
setJ M
;M N
}O P
=Q R
newS V
ListW [
<[ \
IdentityUserLogin\ m
<m n
Guidn r
>r s
>s t
(t u
)u v
;v w
public 
virtual 
ICollection "
<" #
IdentityUserToken# 4
<4 5
Guid5 9
>9 :
>: ;
Tokens< B
{C D
getE H
;H I
setJ M
;M N
}O P
=Q R
newS V
ListW [
<[ \
IdentityUserToken\ m
<m n
Guidn r
>r s
>s t
(t u
)u v
;v w
public 
virtual 
ICollection "
<" #
IdentityUserRole# 3
<3 4
Guid4 8
>8 9
>9 :
	UserRoles; D
{E F
getG J
;J K
setL O
;O P
}Q R
=S T
newU X
ListY ]
<] ^
IdentityUserRole^ n
<n o
Guido s
>s t
>t u
(u v
)v w
;w x
public 
IList 
< 
Caff 
> 
UploadedCaffs (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
List= A
<A B
CaffB F
>F G
(G H
)H I
;I J
public 
IList 
< 
Caff 
> 
BoughtCaffs &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
new7 :
List; ?
<? @
Caff@ D
>D E
(E F
)F G
;G H
public 
string 
GetFullName !
(! "
)" #
{ 	
return 
$" 
{ 
	FirstName 
}  
$str  !
{! "
LastName" *
}* +
"+ ,
;, -
} 	
} 
} —
hE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Domain\Caff.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Domain 
{ 
public		 

class		 
Caff		 
{

 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
ApplicationUser 
Uploader '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
new8 ;
ApplicationUser< K
(K L
)L M
;M N
public 
string 
Creator 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
public 
DateTime 
CreationDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
PhysicalPath "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
IList 
< 
Ciff 
> 
Ciffs  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
new1 4
List5 9
<9 :
Ciff: >
>> ?
(? @
)@ A
;A B
public 
IList 
< 
Comment 
> 
Comments &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
new7 :
List; ?
<? @
Comment@ G
>G H
(H I
)I J
;J K
public 
ApplicationUser 
? 
BoughtBy  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
}   
}!! ƒ
hE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Domain\Ciff.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Domain 
{ 
public		 

class		 
Ciff		 
{

 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
Caff 
Caff 
{ 
get 
; 
set  #
;# $
}% &
=' (
new) ,
Caff- 1
(1 2
)2 3
;3 4
public 
string 
PhysicalPath "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 
string 
DisplayPath !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
double 
Size 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Tags 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 
int 
Duration 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Caption 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
string. 4
.4 5
Empty5 :
;: ;
} 
} ‹	
kE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Domain\Comment.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Domain 
{		 
public

 

class

 
Comment

 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 
ApplicationUser 
	Commenter (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
ApplicationUser= L
(L M
)M N
;N O
public 
Caff 
CommentedCaff !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
new2 5
Caff6 :
(: ;
); <
;< =
} 
} «∂
{E:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Migrations\20221125215025_Init.cs
	namespace 	
Webshop
 
. 
DAL 
. 

Migrations  
{ 
public 

partial 
class 
Init 
: 
	Migration  )
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
falseX ]
)] ^
,^ _
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	FirstName   
=   
table    %
.  % &
Column  & ,
<  , -
string  - 3
>  3 4
(  4 5
type  5 9
:  9 :
$str  ; J
,  J K
nullable  L T
:  T U
false  V [
)  [ \
,  \ ]
LastName!! 
=!! 
table!! $
.!!$ %
Column!!% +
<!!+ ,
string!!, 2
>!!2 3
(!!3 4
type!!4 8
:!!8 9
$str!!: I
,!!I J
nullable!!K S
:!!S T
false!!U Z
)!!Z [
,!![ \
UserName"" 
="" 
table"" $
.""$ %
Column""% +
<""+ ,
string"", 2
>""2 3
(""3 4
type""4 8
:""8 9
$str"": I
,""I J
	maxLength""K T
:""T U
$num""V Y
,""Y Z
nullable""[ c
:""c d
true""e i
)""i j
,""j k
NormalizedUserName## &
=##' (
table##) .
.##. /
Column##/ 5
<##5 6
string##6 <
>##< =
(##= >
type##> B
:##B C
$str##D S
,##S T
	maxLength##U ^
:##^ _
$num##` c
,##c d
nullable##e m
:##m n
true##o s
)##s t
,##t u
Email$$ 
=$$ 
table$$ !
.$$! "
Column$$" (
<$$( )
string$$) /
>$$/ 0
($$0 1
type$$1 5
:$$5 6
$str$$7 F
,$$F G
	maxLength$$H Q
:$$Q R
$num$$S V
,$$V W
nullable$$X `
:$$` a
true$$b f
)$$f g
,$$g h
NormalizedEmail%% #
=%%$ %
table%%& +
.%%+ ,
Column%%, 2
<%%2 3
string%%3 9
>%%9 :
(%%: ;
type%%; ?
:%%? @
$str%%A P
,%%P Q
	maxLength%%R [
:%%[ \
$num%%] `
,%%` a
nullable%%b j
:%%j k
true%%l p
)%%p q
,%%q r
EmailConfirmed&& "
=&&# $
table&&% *
.&&* +
Column&&+ 1
<&&1 2
bool&&2 6
>&&6 7
(&&7 8
type&&8 <
:&&< =
$str&&> C
,&&C D
nullable&&E M
:&&M N
false&&O T
)&&T U
,&&U V
PasswordHash''  
=''! "
table''# (
.''( )
Column'') /
<''/ 0
string''0 6
>''6 7
(''7 8
type''8 <
:''< =
$str''> M
,''M N
nullable''O W
:''W X
true''Y ]
)''] ^
,''^ _
SecurityStamp(( !
=((" #
table(($ )
.(() *
Column((* 0
<((0 1
string((1 7
>((7 8
(((8 9
type((9 =
:((= >
$str((? N
,((N O
nullable((P X
:((X Y
true((Z ^
)((^ _
,((_ `
ConcurrencyStamp)) $
=))% &
table))' ,
.)), -
Column))- 3
<))3 4
string))4 :
>)): ;
()); <
type))< @
:))@ A
$str))B Q
,))Q R
nullable))S [
:))[ \
true))] a
)))a b
,))b c
PhoneNumber** 
=**  !
table**" '
.**' (
Column**( .
<**. /
string**/ 5
>**5 6
(**6 7
type**7 ;
:**; <
$str**= L
,**L M
nullable**N V
:**V W
true**X \
)**\ ]
,**] ^ 
PhoneNumberConfirmed++ (
=++) *
table+++ 0
.++0 1
Column++1 7
<++7 8
bool++8 <
>++< =
(++= >
type++> B
:++B C
$str++D I
,++I J
nullable++K S
:++S T
false++U Z
)++Z [
,++[ \
TwoFactorEnabled,, $
=,,% &
table,,' ,
.,,, -
Column,,- 3
<,,3 4
bool,,4 8
>,,8 9
(,,9 :
type,,: >
:,,> ?
$str,,@ E
,,,E F
nullable,,G O
:,,O P
false,,Q V
),,V W
,,,W X

LockoutEnd-- 
=--  
table--! &
.--& '
Column--' -
<--- .
DateTimeOffset--. <
>--< =
(--= >
type--> B
:--B C
$str--D T
,--T U
nullable--V ^
:--^ _
true--` d
)--d e
,--e f
LockoutEnabled.. "
=..# $
table..% *
...* +
Column..+ 1
<..1 2
bool..2 6
>..6 7
(..7 8
type..8 <
:..< =
$str..> C
,..C D
nullable..E M
:..M N
false..O T
)..T U
,..U V
AccessFailedCount// %
=//& '
table//( -
.//- .
Column//. 4
<//4 5
int//5 8
>//8 9
(//9 :
type//: >
://> ?
$str//@ E
,//E F
nullable//G O
://O P
false//Q V
)//V W
}00 
,00 
constraints11 
:11 
table11 "
=>11# %
{22 
table33 
.33 

PrimaryKey33 $
(33$ %
$str33% 5
,335 6
x337 8
=>339 ;
x33< =
.33= >
Id33> @
)33@ A
;33A B
}44 
)44 
;44 
migrationBuilder66 
.66 
CreateTable66 (
(66( )
name77 
:77 
$str77 (
,77( )
columns88 
:88 
table88 
=>88 !
new88" %
{99 
Id:: 
=:: 
table:: 
.:: 
Column:: %
<::% &
int::& )
>::) *
(::* +
type::+ /
:::/ 0
$str::1 6
,::6 7
nullable::8 @
:::@ A
false::B G
)::G H
.;; 

Annotation;; #
(;;# $
$str;;$ 8
,;;8 9
$str;;: @
);;@ A
,;;A B
RoleId<< 
=<< 
table<< "
.<<" #
Column<<# )
<<<) *
Guid<<* .
><<. /
(<</ 0
type<<0 4
:<<4 5
$str<<6 H
,<<H I
nullable<<J R
:<<R S
false<<T Y
)<<Y Z
,<<Z [
	ClaimType== 
=== 
table==  %
.==% &
Column==& ,
<==, -
string==- 3
>==3 4
(==4 5
type==5 9
:==9 :
$str==; J
,==J K
nullable==L T
:==T U
true==V Z
)==Z [
,==[ \

ClaimValue>> 
=>>  
table>>! &
.>>& '
Column>>' -
<>>- .
string>>. 4
>>>4 5
(>>5 6
type>>6 :
:>>: ;
$str>>< K
,>>K L
nullable>>M U
:>>U V
true>>W [
)>>[ \
}?? 
,?? 
constraints@@ 
:@@ 
table@@ "
=>@@# %
{AA 
tableBB 
.BB 

PrimaryKeyBB $
(BB$ %
$strBB% :
,BB: ;
xBB< =
=>BB> @
xBBA B
.BBB C
IdBBC E
)BBE F
;BBF G
tableCC 
.CC 

ForeignKeyCC $
(CC$ %
nameDD 
:DD 
$strDD F
,DDF G
columnEE 
:EE 
xEE  !
=>EE" $
xEE% &
.EE& '
RoleIdEE' -
,EE- .
principalTableFF &
:FF& '
$strFF( 5
,FF5 6
principalColumnGG '
:GG' (
$strGG) -
,GG- .
onDeleteHH  
:HH  !
ReferentialActionHH" 3
.HH3 4
CascadeHH4 ;
)HH; <
;HH< =
}II 
)II 
;II 
migrationBuilderKK 
.KK 
CreateTableKK (
(KK( )
nameLL 
:LL 
$strLL (
,LL( )
columnsMM 
:MM 
tableMM 
=>MM !
newMM" %
{NN 
IdOO 
=OO 
tableOO 
.OO 
ColumnOO %
<OO% &
intOO& )
>OO) *
(OO* +
typeOO+ /
:OO/ 0
$strOO1 6
,OO6 7
nullableOO8 @
:OO@ A
falseOOB G
)OOG H
.PP 

AnnotationPP #
(PP# $
$strPP$ 8
,PP8 9
$strPP: @
)PP@ A
,PPA B
UserIdQQ 
=QQ 
tableQQ "
.QQ" #
ColumnQQ# )
<QQ) *
GuidQQ* .
>QQ. /
(QQ/ 0
typeQQ0 4
:QQ4 5
$strQQ6 H
,QQH I
nullableQQJ R
:QQR S
falseQQT Y
)QQY Z
,QQZ [
	ClaimTypeRR 
=RR 
tableRR  %
.RR% &
ColumnRR& ,
<RR, -
stringRR- 3
>RR3 4
(RR4 5
typeRR5 9
:RR9 :
$strRR; J
,RRJ K
nullableRRL T
:RRT U
trueRRV Z
)RRZ [
,RR[ \

ClaimValueSS 
=SS  
tableSS! &
.SS& '
ColumnSS' -
<SS- .
stringSS. 4
>SS4 5
(SS5 6
typeSS6 :
:SS: ;
$strSS< K
,SSK L
nullableSSM U
:SSU V
trueSSW [
)SS[ \
}TT 
,TT 
constraintsUU 
:UU 
tableUU "
=>UU# %
{VV 
tableWW 
.WW 

PrimaryKeyWW $
(WW$ %
$strWW% :
,WW: ;
xWW< =
=>WW> @
xWWA B
.WWB C
IdWWC E
)WWE F
;WWF G
tableXX 
.XX 

ForeignKeyXX $
(XX$ %
nameYY 
:YY 
$strYY F
,YYF G
columnZZ 
:ZZ 
xZZ  !
=>ZZ" $
xZZ% &
.ZZ& '
UserIdZZ' -
,ZZ- .
principalTable[[ &
:[[& '
$str[[( 5
,[[5 6
principalColumn\\ '
:\\' (
$str\\) -
)\\- .
;\\. /
}]] 
)]] 
;]] 
migrationBuilder__ 
.__ 
CreateTable__ (
(__( )
name`` 
:`` 
$str`` (
,``( )
columnsaa 
:aa 
tableaa 
=>aa !
newaa" %
{bb 
LoginProvidercc !
=cc" #
tablecc$ )
.cc) *
Columncc* 0
<cc0 1
stringcc1 7
>cc7 8
(cc8 9
typecc9 =
:cc= >
$strcc? N
,ccN O
nullableccP X
:ccX Y
falseccZ _
)cc_ `
,cc` a
ProviderKeydd 
=dd  !
tabledd" '
.dd' (
Columndd( .
<dd. /
stringdd/ 5
>dd5 6
(dd6 7
typedd7 ;
:dd; <
$strdd= L
,ddL M
nullableddN V
:ddV W
falseddX ]
)dd] ^
,dd^ _
ProviderDisplayNameee '
=ee( )
tableee* /
.ee/ 0
Columnee0 6
<ee6 7
stringee7 =
>ee= >
(ee> ?
typeee? C
:eeC D
$streeE T
,eeT U
nullableeeV ^
:ee^ _
trueee` d
)eed e
,eee f
UserIdff 
=ff 
tableff "
.ff" #
Columnff# )
<ff) *
Guidff* .
>ff. /
(ff/ 0
typeff0 4
:ff4 5
$strff6 H
,ffH I
nullableffJ R
:ffR S
falseffT Y
)ffY Z
}gg 
,gg 
constraintshh 
:hh 
tablehh "
=>hh# %
{ii 
tablejj 
.jj 

PrimaryKeyjj $
(jj$ %
$strjj% :
,jj: ;
xjj< =
=>jj> @
newjjA D
{jjE F
xjjG H
.jjH I
LoginProviderjjI V
,jjV W
xjjX Y
.jjY Z
ProviderKeyjjZ e
}jjf g
)jjg h
;jjh i
tablekk 
.kk 

ForeignKeykk $
(kk$ %
namell 
:ll 
$strll F
,llF G
columnmm 
:mm 
xmm  !
=>mm" $
xmm% &
.mm& '
UserIdmm' -
,mm- .
principalTablenn &
:nn& '
$strnn( 5
,nn5 6
principalColumnoo '
:oo' (
$stroo) -
)oo- .
;oo. /
}pp 
)pp 
;pp 
migrationBuilderrr 
.rr 
CreateTablerr (
(rr( )
namess 
:ss 
$strss '
,ss' (
columnstt 
:tt 
tablett 
=>tt !
newtt" %
{uu 
UserIdvv 
=vv 
tablevv "
.vv" #
Columnvv# )
<vv) *
Guidvv* .
>vv. /
(vv/ 0
typevv0 4
:vv4 5
$strvv6 H
,vvH I
nullablevvJ R
:vvR S
falsevvT Y
)vvY Z
,vvZ [
RoleIdww 
=ww 
tableww "
.ww" #
Columnww# )
<ww) *
Guidww* .
>ww. /
(ww/ 0
typeww0 4
:ww4 5
$strww6 H
,wwH I
nullablewwJ R
:wwR S
falsewwT Y
)wwY Z
}xx 
,xx 
constraintsyy 
:yy 
tableyy "
=>yy# %
{zz 
table{{ 
.{{ 

PrimaryKey{{ $
({{$ %
$str{{% 9
,{{9 :
x{{; <
=>{{= ?
new{{@ C
{{{D E
x{{F G
.{{G H
UserId{{H N
,{{N O
x{{P Q
.{{Q R
RoleId{{R X
}{{Y Z
){{Z [
;{{[ \
table|| 
.|| 

ForeignKey|| $
(||$ %
name}} 
:}} 
$str}} E
,}}E F
column~~ 
:~~ 
x~~  !
=>~~" $
x~~% &
.~~& '
RoleId~~' -
,~~- .
principalTable &
:& '
$str( 5
,5 6
principalColumn
ÄÄ '
:
ÄÄ' (
$str
ÄÄ) -
,
ÄÄ- .
onDelete
ÅÅ  
:
ÅÅ  !
ReferentialAction
ÅÅ" 3
.
ÅÅ3 4
Cascade
ÅÅ4 ;
)
ÅÅ; <
;
ÅÅ< =
table
ÇÇ 
.
ÇÇ 

ForeignKey
ÇÇ $
(
ÇÇ$ %
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ E
,
ÉÉE F
column
ÑÑ 
:
ÑÑ 
x
ÑÑ  !
=>
ÑÑ" $
x
ÑÑ% &
.
ÑÑ& '
UserId
ÑÑ' -
,
ÑÑ- .
principalTable
ÖÖ &
:
ÖÖ& '
$str
ÖÖ( 5
,
ÖÖ5 6
principalColumn
ÜÜ '
:
ÜÜ' (
$str
ÜÜ) -
)
ÜÜ- .
;
ÜÜ. /
}
áá 
)
áá 
;
áá 
migrationBuilder
ââ 
.
ââ 
CreateTable
ââ (
(
ââ( )
name
ää 
:
ää 
$str
ää (
,
ää( )
columns
ãã 
:
ãã 
table
ãã 
=>
ãã !
new
ãã" %
{
åå 
UserId
çç 
=
çç 
table
çç "
.
çç" #
Column
çç# )
<
çç) *
Guid
çç* .
>
çç. /
(
çç/ 0
type
çç0 4
:
çç4 5
$str
çç6 H
,
ççH I
nullable
ççJ R
:
ççR S
false
ççT Y
)
ççY Z
,
ççZ [
LoginProvider
éé !
=
éé" #
table
éé$ )
.
éé) *
Column
éé* 0
<
éé0 1
string
éé1 7
>
éé7 8
(
éé8 9
type
éé9 =
:
éé= >
$str
éé? N
,
ééN O
nullable
ééP X
:
ééX Y
false
ééZ _
)
éé_ `
,
éé` a
Name
èè 
=
èè 
table
èè  
.
èè  !
Column
èè! '
<
èè' (
string
èè( .
>
èè. /
(
èè/ 0
type
èè0 4
:
èè4 5
$str
èè6 E
,
èèE F
nullable
èèG O
:
èèO P
false
èèQ V
)
èèV W
,
èèW X
Value
êê 
=
êê 
table
êê !
.
êê! "
Column
êê" (
<
êê( )
string
êê) /
>
êê/ 0
(
êê0 1
type
êê1 5
:
êê5 6
$str
êê7 F
,
êêF G
nullable
êêH P
:
êêP Q
true
êêR V
)
êêV W
}
ëë 
,
ëë 
constraints
íí 
:
íí 
table
íí "
=>
íí# %
{
ìì 
table
îî 
.
îî 

PrimaryKey
îî $
(
îî$ %
$str
îî% :
,
îî: ;
x
îî< =
=>
îî> @
new
îîA D
{
îîE F
x
îîG H
.
îîH I
UserId
îîI O
,
îîO P
x
îîQ R
.
îîR S
LoginProvider
îîS `
,
îî` a
x
îîb c
.
îîc d
Name
îîd h
}
îîi j
)
îîj k
;
îîk l
table
ïï 
.
ïï 

ForeignKey
ïï $
(
ïï$ %
name
ññ 
:
ññ 
$str
ññ F
,
ññF G
column
óó 
:
óó 
x
óó  !
=>
óó" $
x
óó% &
.
óó& '
UserId
óó' -
,
óó- .
principalTable
òò &
:
òò& '
$str
òò( 5
,
òò5 6
principalColumn
ôô '
:
ôô' (
$str
ôô) -
)
ôô- .
;
ôô. /
}
öö 
)
öö 
;
öö 
migrationBuilder
úú 
.
úú 
CreateTable
úú (
(
úú( )
name
ùù 
:
ùù 
$str
ùù 
,
ùù 
columns
ûû 
:
ûû 
table
ûû 
=>
ûû !
new
ûû" %
{
üü 
Id
†† 
=
†† 
table
†† 
.
†† 
Column
†† %
<
††% &
Guid
††& *
>
††* +
(
††+ ,
type
††, 0
:
††0 1
$str
††2 D
,
††D E
nullable
††F N
:
††N O
false
††P U
)
††U V
,
††V W

UploaderId
°° 
=
°°  
table
°°! &
.
°°& '
Column
°°' -
<
°°- .
Guid
°°. 2
>
°°2 3
(
°°3 4
type
°°4 8
:
°°8 9
$str
°°: L
,
°°L M
nullable
°°N V
:
°°V W
false
°°X ]
)
°°] ^
,
°°^ _
Creator
¢¢ 
=
¢¢ 
table
¢¢ #
.
¢¢# $
Column
¢¢$ *
<
¢¢* +
string
¢¢+ 1
>
¢¢1 2
(
¢¢2 3
type
¢¢3 7
:
¢¢7 8
$str
¢¢9 H
,
¢¢H I
nullable
¢¢J R
:
¢¢R S
false
¢¢T Y
)
¢¢Y Z
,
¢¢Z [
CreationDate
££  
=
££! "
table
££# (
.
££( )
Column
££) /
<
££/ 0
DateTime
££0 8
>
££8 9
(
££9 :
type
££: >
:
££> ?
$str
££@ K
,
££K L
nullable
££M U
:
££U V
false
££W \
)
££\ ]
,
££] ^
Title
§§ 
=
§§ 
table
§§ !
.
§§! "
Column
§§" (
<
§§( )
string
§§) /
>
§§/ 0
(
§§0 1
type
§§1 5
:
§§5 6
$str
§§7 F
,
§§F G
nullable
§§H P
:
§§P Q
false
§§R W
)
§§W X
,
§§X Y
Description
•• 
=
••  !
table
••" '
.
••' (
Column
••( .
<
••. /
string
••/ 5
>
••5 6
(
••6 7
type
••7 ;
:
••; <
$str
••= L
,
••L M
nullable
••N V
:
••V W
false
••X ]
)
••] ^
,
••^ _
Price
¶¶ 
=
¶¶ 
table
¶¶ !
.
¶¶! "
Column
¶¶" (
<
¶¶( )
int
¶¶) ,
>
¶¶, -
(
¶¶- .
type
¶¶. 2
:
¶¶2 3
$str
¶¶4 9
,
¶¶9 :
nullable
¶¶; C
:
¶¶C D
false
¶¶E J
)
¶¶J K
,
¶¶K L

BoughtById
ßß 
=
ßß  
table
ßß! &
.
ßß& '
Column
ßß' -
<
ßß- .
Guid
ßß. 2
>
ßß2 3
(
ßß3 4
type
ßß4 8
:
ßß8 9
$str
ßß: L
,
ßßL M
nullable
ßßN V
:
ßßV W
true
ßßX \
)
ßß\ ]
}
®® 
,
®® 
constraints
©© 
:
©© 
table
©© "
=>
©©# %
{
™™ 
table
´´ 
.
´´ 

PrimaryKey
´´ $
(
´´$ %
$str
´´% /
,
´´/ 0
x
´´1 2
=>
´´3 5
x
´´6 7
.
´´7 8
Id
´´8 :
)
´´: ;
;
´´; <
table
¨¨ 
.
¨¨ 

ForeignKey
¨¨ $
(
¨¨$ %
name
≠≠ 
:
≠≠ 
$str
≠≠ ?
,
≠≠? @
column
ÆÆ 
:
ÆÆ 
x
ÆÆ  !
=>
ÆÆ" $
x
ÆÆ% &
.
ÆÆ& '

BoughtById
ÆÆ' 1
,
ÆÆ1 2
principalTable
ØØ &
:
ØØ& '
$str
ØØ( 5
,
ØØ5 6
principalColumn
∞∞ '
:
∞∞' (
$str
∞∞) -
)
∞∞- .
;
∞∞. /
table
±± 
.
±± 

ForeignKey
±± $
(
±±$ %
name
≤≤ 
:
≤≤ 
$str
≤≤ ?
,
≤≤? @
column
≥≥ 
:
≥≥ 
x
≥≥  !
=>
≥≥" $
x
≥≥% &
.
≥≥& '

UploaderId
≥≥' 1
,
≥≥1 2
principalTable
¥¥ &
:
¥¥& '
$str
¥¥( 5
,
¥¥5 6
principalColumn
µµ '
:
µµ' (
$str
µµ) -
,
µµ- .
onDelete
∂∂  
:
∂∂  !
ReferentialAction
∂∂" 3
.
∂∂3 4
Cascade
∂∂4 ;
)
∂∂; <
;
∂∂< =
}
∑∑ 
)
∑∑ 
;
∑∑ 
migrationBuilder
ππ 
.
ππ 
CreateTable
ππ (
(
ππ( )
name
∫∫ 
:
∫∫ 
$str
∫∫ 
,
∫∫ 
columns
ªª 
:
ªª 
table
ªª 
=>
ªª !
new
ªª" %
{
ºº 
Id
ΩΩ 
=
ΩΩ 
table
ΩΩ 
.
ΩΩ 
Column
ΩΩ %
<
ΩΩ% &
Guid
ΩΩ& *
>
ΩΩ* +
(
ΩΩ+ ,
type
ΩΩ, 0
:
ΩΩ0 1
$str
ΩΩ2 D
,
ΩΩD E
nullable
ΩΩF N
:
ΩΩN O
false
ΩΩP U
)
ΩΩU V
,
ΩΩV W
CaffId
ææ 
=
ææ 
table
ææ "
.
ææ" #
Column
ææ# )
<
ææ) *
Guid
ææ* .
>
ææ. /
(
ææ/ 0
type
ææ0 4
:
ææ4 5
$str
ææ6 H
,
ææH I
nullable
ææJ R
:
ææR S
false
ææT Y
)
ææY Z
,
ææZ [
PhysicalPath
øø  
=
øø! "
table
øø# (
.
øø( )
Column
øø) /
<
øø/ 0
string
øø0 6
>
øø6 7
(
øø7 8
type
øø8 <
:
øø< =
$str
øø> M
,
øøM N
nullable
øøO W
:
øøW X
false
øøY ^
)
øø^ _
,
øø_ `
DisplayPath
¿¿ 
=
¿¿  !
table
¿¿" '
.
¿¿' (
Column
¿¿( .
<
¿¿. /
string
¿¿/ 5
>
¿¿5 6
(
¿¿6 7
type
¿¿7 ;
:
¿¿; <
$str
¿¿= L
,
¿¿L M
nullable
¿¿N V
:
¿¿V W
false
¿¿X ]
)
¿¿] ^
,
¿¿^ _
Size
¡¡ 
=
¡¡ 
table
¡¡  
.
¡¡  !
Column
¡¡! '
<
¡¡' (
double
¡¡( .
>
¡¡. /
(
¡¡/ 0
type
¡¡0 4
:
¡¡4 5
$str
¡¡6 =
,
¡¡= >
nullable
¡¡? G
:
¡¡G H
false
¡¡I N
)
¡¡N O
,
¡¡O P
Tags
¬¬ 
=
¬¬ 
table
¬¬  
.
¬¬  !
Column
¬¬! '
<
¬¬' (
string
¬¬( .
>
¬¬. /
(
¬¬/ 0
type
¬¬0 4
:
¬¬4 5
$str
¬¬6 E
,
¬¬E F
nullable
¬¬G O
:
¬¬O P
false
¬¬Q V
)
¬¬V W
,
¬¬W X
Duration
√√ 
=
√√ 
table
√√ $
.
√√$ %
Column
√√% +
<
√√+ ,
int
√√, /
>
√√/ 0
(
√√0 1
type
√√1 5
:
√√5 6
$str
√√7 <
,
√√< =
nullable
√√> F
:
√√F G
false
√√H M
)
√√M N
,
√√N O
Caption
ƒƒ 
=
ƒƒ 
table
ƒƒ #
.
ƒƒ# $
Column
ƒƒ$ *
<
ƒƒ* +
string
ƒƒ+ 1
>
ƒƒ1 2
(
ƒƒ2 3
type
ƒƒ3 7
:
ƒƒ7 8
$str
ƒƒ9 H
,
ƒƒH I
nullable
ƒƒJ R
:
ƒƒR S
false
ƒƒT Y
)
ƒƒY Z
}
≈≈ 
,
≈≈ 
constraints
∆∆ 
:
∆∆ 
table
∆∆ "
=>
∆∆# %
{
«« 
table
»» 
.
»» 

PrimaryKey
»» $
(
»»$ %
$str
»»% /
,
»»/ 0
x
»»1 2
=>
»»3 5
x
»»6 7
.
»»7 8
Id
»»8 :
)
»»: ;
;
»»; <
table
…… 
.
…… 

ForeignKey
…… $
(
……$ %
name
   
:
   
$str
   5
,
  5 6
column
ÀÀ 
:
ÀÀ 
x
ÀÀ  !
=>
ÀÀ" $
x
ÀÀ% &
.
ÀÀ& '
CaffId
ÀÀ' -
,
ÀÀ- .
principalTable
ÃÃ &
:
ÃÃ& '
$str
ÃÃ( /
,
ÃÃ/ 0
principalColumn
ÕÕ '
:
ÕÕ' (
$str
ÕÕ) -
,
ÕÕ- .
onDelete
ŒŒ  
:
ŒŒ  !
ReferentialAction
ŒŒ" 3
.
ŒŒ3 4
Cascade
ŒŒ4 ;
)
ŒŒ; <
;
ŒŒ< =
}
œœ 
)
œœ 
;
œœ 
migrationBuilder
—— 
.
—— 
CreateTable
—— (
(
——( )
name
““ 
:
““ 
$str
““  
,
““  !
columns
”” 
:
”” 
table
”” 
=>
”” !
new
””" %
{
‘‘ 
Id
’’ 
=
’’ 
table
’’ 
.
’’ 
Column
’’ %
<
’’% &
Guid
’’& *
>
’’* +
(
’’+ ,
type
’’, 0
:
’’0 1
$str
’’2 D
,
’’D E
nullable
’’F N
:
’’N O
false
’’P U
)
’’U V
,
’’V W
Text
÷÷ 
=
÷÷ 
table
÷÷  
.
÷÷  !
Column
÷÷! '
<
÷÷' (
string
÷÷( .
>
÷÷. /
(
÷÷/ 0
type
÷÷0 4
:
÷÷4 5
$str
÷÷6 E
,
÷÷E F
nullable
÷÷G O
:
÷÷O P
false
÷÷Q V
)
÷÷V W
,
÷÷W X
CommenterId
◊◊ 
=
◊◊  !
table
◊◊" '
.
◊◊' (
Column
◊◊( .
<
◊◊. /
Guid
◊◊/ 3
>
◊◊3 4
(
◊◊4 5
type
◊◊5 9
:
◊◊9 :
$str
◊◊; M
,
◊◊M N
nullable
◊◊O W
:
◊◊W X
false
◊◊Y ^
)
◊◊^ _
,
◊◊_ `
CommentedCaffId
ÿÿ #
=
ÿÿ$ %
table
ÿÿ& +
.
ÿÿ+ ,
Column
ÿÿ, 2
<
ÿÿ2 3
Guid
ÿÿ3 7
>
ÿÿ7 8
(
ÿÿ8 9
type
ÿÿ9 =
:
ÿÿ= >
$str
ÿÿ? Q
,
ÿÿQ R
nullable
ÿÿS [
:
ÿÿ[ \
false
ÿÿ] b
)
ÿÿb c
}
ŸŸ 
,
ŸŸ 
constraints
⁄⁄ 
:
⁄⁄ 
table
⁄⁄ "
=>
⁄⁄# %
{
€€ 
table
‹‹ 
.
‹‹ 

PrimaryKey
‹‹ $
(
‹‹$ %
$str
‹‹% 2
,
‹‹2 3
x
‹‹4 5
=>
‹‹6 8
x
‹‹9 :
.
‹‹: ;
Id
‹‹; =
)
‹‹= >
;
‹‹> ?
table
›› 
.
›› 

ForeignKey
›› $
(
››$ %
name
ﬁﬁ 
:
ﬁﬁ 
$str
ﬁﬁ C
,
ﬁﬁC D
column
ﬂﬂ 
:
ﬂﬂ 
x
ﬂﬂ  !
=>
ﬂﬂ" $
x
ﬂﬂ% &
.
ﬂﬂ& '
CommenterId
ﬂﬂ' 2
,
ﬂﬂ2 3
principalTable
‡‡ &
:
‡‡& '
$str
‡‡( 5
,
‡‡5 6
principalColumn
·· '
:
··' (
$str
··) -
)
··- .
;
··. /
table
‚‚ 
.
‚‚ 

ForeignKey
‚‚ $
(
‚‚$ %
name
„„ 
:
„„ 
$str
„„ A
,
„„A B
column
‰‰ 
:
‰‰ 
x
‰‰  !
=>
‰‰" $
x
‰‰% &
.
‰‰& '
CommentedCaffId
‰‰' 6
,
‰‰6 7
principalTable
ÂÂ &
:
ÂÂ& '
$str
ÂÂ( /
,
ÂÂ/ 0
principalColumn
ÊÊ '
:
ÊÊ' (
$str
ÊÊ) -
,
ÊÊ- .
onDelete
ÁÁ  
:
ÁÁ  !
ReferentialAction
ÁÁ" 3
.
ÁÁ3 4
Cascade
ÁÁ4 ;
)
ÁÁ; <
;
ÁÁ< =
}
ËË 
)
ËË 
;
ËË 
migrationBuilder
ÍÍ 
.
ÍÍ 
CreateIndex
ÍÍ (
(
ÍÍ( )
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ 2
,
ÎÎ2 3
table
ÏÏ 
:
ÏÏ 
$str
ÏÏ )
,
ÏÏ) *
column
ÌÌ 
:
ÌÌ 
$str
ÌÌ  
)
ÌÌ  !
;
ÌÌ! "
migrationBuilder
ÔÔ 
.
ÔÔ 
CreateIndex
ÔÔ (
(
ÔÔ( )
name
 
:
 
$str
 %
,
% &
table
ÒÒ 
:
ÒÒ 
$str
ÒÒ $
,
ÒÒ$ %
column
ÚÚ 
:
ÚÚ 
$str
ÚÚ (
,
ÚÚ( )
unique
ÛÛ 
:
ÛÛ 
true
ÛÛ 
,
ÛÛ 
filter
ÙÙ 
:
ÙÙ 
$str
ÙÙ 6
)
ÙÙ6 7
;
ÙÙ7 8
migrationBuilder
ˆˆ 
.
ˆˆ 
CreateIndex
ˆˆ (
(
ˆˆ( )
name
˜˜ 
:
˜˜ 
$str
˜˜ 2
,
˜˜2 3
table
¯¯ 
:
¯¯ 
$str
¯¯ )
,
¯¯) *
column
˘˘ 
:
˘˘ 
$str
˘˘  
)
˘˘  !
;
˘˘! "
migrationBuilder
˚˚ 
.
˚˚ 
CreateIndex
˚˚ (
(
˚˚( )
name
¸¸ 
:
¸¸ 
$str
¸¸ 2
,
¸¸2 3
table
˝˝ 
:
˝˝ 
$str
˝˝ )
,
˝˝) *
column
˛˛ 
:
˛˛ 
$str
˛˛  
)
˛˛  !
;
˛˛! "
migrationBuilder
ÄÄ 
.
ÄÄ 
CreateIndex
ÄÄ (
(
ÄÄ( )
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ 1
,
ÅÅ1 2
table
ÇÇ 
:
ÇÇ 
$str
ÇÇ (
,
ÇÇ( )
column
ÉÉ 
:
ÉÉ 
$str
ÉÉ  
)
ÉÉ  !
;
ÉÉ! "
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateIndex
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ "
,
ÜÜ" #
table
áá 
:
áá 
$str
áá $
,
áá$ %
column
àà 
:
àà 
$str
àà )
)
àà) *
;
àà* +
migrationBuilder
ää 
.
ää 
CreateIndex
ää (
(
ää( )
name
ãã 
:
ãã 
$str
ãã %
,
ãã% &
table
åå 
:
åå 
$str
åå $
,
åå$ %
column
çç 
:
çç 
$str
çç ,
,
çç, -
unique
éé 
:
éé 
true
éé 
,
éé 
filter
èè 
:
èè 
$str
èè :
)
èè: ;
;
èè; <
migrationBuilder
ëë 
.
ëë 
CreateIndex
ëë (
(
ëë( )
name
íí 
:
íí 
$str
íí +
,
íí+ ,
table
ìì 
:
ìì 
$str
ìì 
,
ìì 
column
îî 
:
îî 
$str
îî $
)
îî$ %
;
îî% &
migrationBuilder
ññ 
.
ññ 
CreateIndex
ññ (
(
ññ( )
name
óó 
:
óó 
$str
óó +
,
óó+ ,
table
òò 
:
òò 
$str
òò 
,
òò 
column
ôô 
:
ôô 
$str
ôô $
)
ôô$ %
;
ôô% &
migrationBuilder
õõ 
.
õõ 
CreateIndex
õõ (
(
õõ( )
name
úú 
:
úú 
$str
úú '
,
úú' (
table
ùù 
:
ùù 
$str
ùù 
,
ùù 
column
ûû 
:
ûû 
$str
ûû  
)
ûû  !
;
ûû! "
migrationBuilder
†† 
.
†† 
CreateIndex
†† (
(
††( )
name
°° 
:
°° 
$str
°° 3
,
°°3 4
table
¢¢ 
:
¢¢ 
$str
¢¢ !
,
¢¢! "
column
££ 
:
££ 
$str
££ )
)
££) *
;
££* +
migrationBuilder
•• 
.
•• 
CreateIndex
•• (
(
••( )
name
¶¶ 
:
¶¶ 
$str
¶¶ /
,
¶¶/ 0
table
ßß 
:
ßß 
$str
ßß !
,
ßß! "
column
®® 
:
®® 
$str
®® %
)
®®% &
;
®®& '
}
©© 	
	protected
´´ 
override
´´ 
void
´´ 
Down
´´  $
(
´´$ %
MigrationBuilder
´´% 5
migrationBuilder
´´6 F
)
´´F G
{
¨¨ 	
migrationBuilder
≠≠ 
.
≠≠ 
	DropTable
≠≠ &
(
≠≠& '
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ (
)
ÆÆ( )
;
ÆÆ) *
migrationBuilder
∞∞ 
.
∞∞ 
	DropTable
∞∞ &
(
∞∞& '
name
±± 
:
±± 
$str
±± (
)
±±( )
;
±±) *
migrationBuilder
≥≥ 
.
≥≥ 
	DropTable
≥≥ &
(
≥≥& '
name
¥¥ 
:
¥¥ 
$str
¥¥ (
)
¥¥( )
;
¥¥) *
migrationBuilder
∂∂ 
.
∂∂ 
	DropTable
∂∂ &
(
∂∂& '
name
∑∑ 
:
∑∑ 
$str
∑∑ '
)
∑∑' (
;
∑∑( )
migrationBuilder
ππ 
.
ππ 
	DropTable
ππ &
(
ππ& '
name
∫∫ 
:
∫∫ 
$str
∫∫ (
)
∫∫( )
;
∫∫) *
migrationBuilder
ºº 
.
ºº 
	DropTable
ºº &
(
ºº& '
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ 
)
ΩΩ 
;
ΩΩ 
migrationBuilder
øø 
.
øø 
	DropTable
øø &
(
øø& '
name
¿¿ 
:
¿¿ 
$str
¿¿  
)
¿¿  !
;
¿¿! "
migrationBuilder
¬¬ 
.
¬¬ 
	DropTable
¬¬ &
(
¬¬& '
name
√√ 
:
√√ 
$str
√√ #
)
√√# $
;
√√$ %
migrationBuilder
≈≈ 
.
≈≈ 
	DropTable
≈≈ &
(
≈≈& '
name
∆∆ 
:
∆∆ 
$str
∆∆ 
)
∆∆ 
;
∆∆ 
migrationBuilder
»» 
.
»» 
	DropTable
»» &
(
»»& '
name
…… 
:
…… 
$str
…… #
)
……# $
;
……$ %
}
   	
}
ÀÀ 
}ÃÃ Ü
E:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Migrations\20221125230657_CaffPath.cs
	namespace 	
Webshop
 
. 
DAL 
. 

Migrations  
{ 
public 

partial 
class 
CaffPath !
:" #
	Migration$ -
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str 
, 
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
) 
;  
} 	
} 
} É=
ÜE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Repository\Implementations\FileRepository.cs
	namespace 	
Webshop
 
. 
DAL 
. 

Repository  
.  !
Implementations! 0
{ 
public 

class 
FileRepository 
:  !
IFileRepository" 1
{ 
private 
readonly (
IWebshopConfigurationService 5!
_webshopConfiguration6 K
;K L
private 
const 
string 

caffSuffix '
=( )
$str* 5
;5 6
private 
const 
string 

ciffSuffix '
=( )
$str* 5
;5 6
public 
FileRepository 
( (
IWebshopConfigurationService : 
webshopConfiguration; O
)O P
{ 	!
_webshopConfiguration !
=" # 
webshopConfiguration$ 8
;8 9
} 	
public 
void 

DeleteFile 
( 
string %
filePath& .
). /
{ 	
File 
. 
Delete 
( 
filePath  
)  !
;! "
} 	
public 
Caff 
ReadMetadata  
(  !
string! '
path( ,
,, -
string. 4
caffName5 =
,= >
int? B
	ciffCountC L
)L M
{   	
var!! 
caffMeta!! 
=!! 
File!! 
.!!  
ReadAllText!!  +
(!!+ ,
$"!!, .
{!!. /
path!!/ 3
}!!3 4
$str!!4 6
{!!6 7
caffName!!7 ?
}!!? @
$str!!@ A
{!!A B

caffSuffix!!B L
}!!L M
$str!!M Q
"!!Q R
)!!R S
;!!S T
IList"" 
<"" 
Ciff"" 
>"" 
ciffs"" 
="" 
new""  #
List""$ (
<""( )
Ciff"") -
>""- .
("". /
)""/ 0
;""0 1
for## 
(## 
int## 
i## 
=## 
$num## 
;## 
i## 
<## 
	ciffCount##  )
;##) *
i##+ ,
++##, .
)##. /
{$$ 
var%% 
ciffMeta%% 
=%% 
File%% #
.%%# $
ReadAllText%%$ /
(%%/ 0
$"%%0 2
{%%2 3
path%%3 7
}%%7 8
$str%%8 :
{%%: ;
caffName%%; C
}%%C D
$str%%D E
{%%E F
i%%F G
}%%G H
$str%%H I
{%%I J

ciffSuffix%%J T
}%%T U
$str%%U Y
"%%Y Z
)%%Z [
;%%[ \
var&& 
	ciffMetas&& 
=&& 
ciffMeta&&  (
.&&( )
Split&&) .
(&&. /
$str&&/ 3
,&&3 4
StringSplitOptions&&5 G
.&&G H
RemoveEmptyEntries&&H Z
)&&Z [
;&&[ \
ciffs'' 
.'' 
Add'' 
('' 
new'' 
Ciff'' "
{(( 
Duration)) 
=)) 
int)) "
.))" #
Parse))# (
())( )
	ciffMetas))) 2
[))2 3
$num))3 4
]))4 5
.))5 6
Split))6 ;
()); <
$char))< ?
)))? @
[))@ A
$num))A B
]))B C
)))C D
,))D E
Caption** 
=** 
	ciffMetas** '
[**' (
$num**( )
]**) *
.*** +
Split**+ 0
(**0 1
$char**1 4
)**4 5
[**5 6
$num**6 7
]**7 8
,**8 9
Tags++ 
=++ 
	ciffMetas++ $
[++$ %
$num++% &
]++& '
.++' (
Split++( -
(++- .
$char++. 1
)++1 2
[++2 3
$num++3 4
]++4 5
},, 
),, 
;,, 
}-- 
var// 
	caffMetas// 
=// 
caffMeta// $
.//$ %
Split//% *
(//* +
$str//+ /
,/// 0
StringSplitOptions//1 C
.//C D
RemoveEmptyEntries//D V
)//V W
;//W X
Caff00 
caff00 
=00 
new00 
Caff00  
{11 
Creator22 
=22 
	caffMetas22 #
[22# $
$num22$ %
]22% &
.22& '
Split22' ,
(22, -
$char22- 0
)220 1
[221 2
$num222 3
]223 4
,224 5
CreationDate33 
=33 
DateTime33 '
.33' (
Parse33( -
(33- .
	caffMetas33. 7
[337 8
$num338 9
]339 :
.33: ;
Split33; @
(33@ A
$char33A D
)33D E
[33E F
$num33F G
]33G H
)33H I
,33I J
Ciffs44 
=44 
ciffs44 
,44 
}55 
;55 
return66 
caff66 
;66 
}77 	
public99 
string99 
SanitizeFilename99 &
(99& '
string99' -
fileName99. 6
)996 7
{:: 	
var;; 
file;; 
=;; 
Path;; 
.;; 
GetFileName;; '
(;;' (
fileName;;( 0
);;0 1
;;;1 2
var<< 
htmlEncoded<< 
=<< 

WebUtility<< (
.<<( )

HtmlEncode<<) 3
(<<3 4
file<<4 8
)<<8 9
;<<9 :
return== 
htmlEncoded== 
;== 
}>> 	
public@@ 
string@@ 
SaveFile@@ 
(@@ 
string@@ %
tempFilePath@@& 2
,@@2 3
string@@4 :
	extension@@; D
,@@D E
string@@F L
relativeOutPath@@M \
)@@\ ]
{AA 	
varBB 
fileNameBB 
=BB 
PathBB 
.BB  '
GetFileNameWithoutExtensionBB  ;
(BB; <
PathBB< @
.BB@ A
GetRandomFileNameBBA R
(BBR S
)BBS T
)BBT U
;BBU V
varCC 
userDirCC 
=CC 
$"CC 
{CC !
_webshopConfigurationCC 2
.CC2 3%
GetStaticFilePhysicalPathCC3 L
(CCL M
)CCM N
}CCN O
{CCO P
relativeOutPathCCP _
}CC_ `
"CC` a
;CCa b
varDD 
savePathDD 
=DD 
$"DD 
{DD 
userDirDD %
}DD% &
$strDD& (
{DD( )
fileNameDD) 1
}DD1 2
{DD2 3
	extensionDD3 <
}DD< =
"DD= >
;DD> ?
ifEE 
(EE 
!EE 
	DirectoryEE 
.EE 
ExistsEE !
(EE! "
userDirEE" )
)EE) *
)EE* +
{FF 
	DirectoryGG 
.GG 
CreateDirectoryGG )
(GG) *
userDirGG* 1
)GG1 2
;GG2 3
}HH 
FileII 
.II 
CopyII 
(II 
tempFilePathII "
,II" #
savePathII$ ,
)II, -
;II- .
FileJJ 
.JJ 
DeleteJJ 
(JJ 
tempFilePathJJ $
)JJ$ %
;JJ% &
returnKK 
savePathKK 
;KK 
}LL 	
}MM 
}NN ‚2
âE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Repository\Implementations\GenericRepository.cs
	namespace

 	
Webshop


 
.

 
DAL

 
.

 

Repository

  
.

  !
Implementations

! 0
{ 
public 

class 
GenericRepository "
<" #
TEntity# *
>* +
:, -
IGenericRepository. @
<@ A
TEntityA H
>H I
whereJ O
TEntityP W
:X Y
classZ _
{ 
private 
readonly 
WebshopDbContext )
context* 1
;1 2
private 
readonly 
DbSet 
< 
TEntity &
>& '
dbSet( -
;- .
public 
GenericRepository  
(  !
WebshopDbContext! 1
context2 9
)9 :
{ 	
this 
. 
context 
= 
context "
;" #
dbSet 
= 
context 
. 
Set 
<  
TEntity  '
>' (
(( )
)) *
;* +
} 	
public 
IEnumerable 
< 
TEntity "
>" #
Get$ '
(' (

Expression 
< 
Func 
< 
TEntity #
,# $
bool% )
>) *
>* +
?+ ,
filter- 3
=4 5
null6 :
,: ;
Func 
< 

IQueryable 
< 
TEntity #
># $
,$ %

IQueryable& 0
<0 1
TEntity1 8
>8 9
>9 :
?: ;
	transform< E
=F G
nullH L
,L M
string 
includeProperties $
=% &
$str' )
)) *
{ 	

IQueryable 
< 
TEntity 
> 
query  %
=& '
dbSet( -
;- .
if 
( 
filter 
!= 
null 
) 
{ 
query 
= 
query 
. 
Where #
(# $
filter$ *
)* +
;+ ,
}   
foreach"" 
("" 
var"" 
includeProperty"" (
in"") +
includeProperties"", =
.""= >
Split""> C
(## 
new## 
char## 
[## 
]## 
{## 
$char## !
}##" #
,### $
StringSplitOptions##% 7
.##7 8
RemoveEmptyEntries##8 J
)##J K
)##K L
{$$ 
query%% 
=%% 
query%% 
.%% 
Include%% %
(%%% &
includeProperty%%& 5
)%%5 6
;%%6 7
}&& 
if(( 
((( 
	transform(( 
!=(( 
null(( !
)((! "
{)) 
return** 
	transform**  
(**  !
query**! &
)**& '
.**' (
ToList**( .
(**. /
)**/ 0
;**0 1
}++ 
else,, 
{-- 
return.. 
query.. 
... 
ToList.. #
(..# $
)..$ %
;..% &
}// 
}00 	
public22 
TEntity22 
GetByID22 
(22 
object22 %
id22& (
)22( )
{33 	
TEntity44 
?44 
entity44 
=44 
dbSet44 #
.44# $
Find44$ (
(44( )
id44) +
)44+ ,
;44, -
if55 
(55 
entity55 
==55 
null55 
)55 
{66 
throw77 
new77 
ArgumentException77 +
(77+ ,
$str77, Q
,77Q R
nameof77S Y
(77Y Z
id77Z \
)77\ ]
)77] ^
;77^ _
}88 
return99 
entity99 
;99 
}:: 	
public<< 
void<< 
Insert<< 
(<< 
TEntity<< "
entity<<# )
)<<) *
{== 	
dbSet>> 
.>> 
Add>> 
(>> 
entity>> 
)>> 
;>> 
}?? 	
publicAA 
voidAA 
DeleteAA 
(AA 
objectAA !
idAA" $
)AA$ %
{BB 	
TEntityCC 
?CC 
entityToDeleteCC #
=CC$ %
dbSetCC& +
.CC+ ,
FindCC, 0
(CC0 1
idCC1 3
)CC3 4
;CC4 5
ifDD 
(DD 
entityToDeleteDD 
!=DD !
nullDD" &
)DD& '
{EE 
DeleteFF 
(FF 
entityToDeleteFF %
)FF% &
;FF& '
}GG 
}HH 	
publicJJ 
voidJJ 
DeleteJJ 
(JJ 
TEntityJJ "
entityToDeleteJJ# 1
)JJ1 2
{KK 	
ifLL 
(LL 
contextLL 
.LL 
EntryLL 
(LL 
entityToDeleteLL ,
)LL, -
.LL- .
StateLL. 3
==LL4 6
EntityStateLL7 B
.LLB C
DetachedLLC K
)LLK L
{MM 
dbSetNN 
.NN 
AttachNN 
(NN 
entityToDeleteNN +
)NN+ ,
;NN, -
}OO 
dbSetPP 
.PP 
RemovePP 
(PP 
entityToDeletePP '
)PP' (
;PP( )
}QQ 	
publicSS 
voidSS 
UpdateSS 
(SS 
TEntitySS "
entityToUpdateSS# 1
)SS1 2
{TT 	
dbSetUU 
.UU 
AttachUU 
(UU 
entityToUpdateUU '
)UU' (
;UU( )
contextVV 
.VV 
EntryVV 
(VV 
entityToUpdateVV (
)VV( )
.VV) *
StateVV* /
=VV0 1
EntityStateVV2 =
.VV= >
ModifiedVV> F
;VVF G
}WW 	
}XX 
}YY ï	
ÇE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Repository\Interfaces\IFileRepository.cs
	namespace 	
Webshop
 
. 
DAL 
. 

Repository  
.  !

Interfaces! +
{		 
public

 

	interface

 
IFileRepository

 $
{ 
string 
SaveFile 
( 
string 
tempFilePath +
,+ ,
string- 3
	extension4 =
,= >
string? E
relativeOutPathF U
)U V
;V W
Caff 
ReadMetadata 
( 
string  
path! %
,% &
string' -
caffName. 6
,6 7
int8 ;
	ciffCount< E
)E F
;F G
void 

DeleteFile 
( 
string 
filePath '
)' (
;( )
string 
SanitizeFilename 
(  
string  &
fileName' /
)/ 0
;0 1
} 
} é
ÖE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Repository\Interfaces\IGenericRepository.cs
	namespace		 	
Webshop		
 
.		 
DAL		 
.		 

Repository		  
.		  !

Interfaces		! +
{

 
public 

	interface 
IGenericRepository '
<' (
TEntity( /
>/ 0
where1 6
TEntity7 >
:? @
classA F
{ 
IEnumerable 
< 
TEntity 
> 
Get  
(  !

Expression 
< 
Func 
< 
TEntity #
,# $
bool% )
>) *
>* +
?+ ,
filter- 3
=4 5
null6 :
,: ;
Func 
< 

IQueryable 
< 
TEntity #
># $
,$ %

IQueryable& 0
<0 1
TEntity1 8
>8 9
>9 :
?: ;
	transform< E
=F G
nullH L
,L M
string 
includeProperties $
=% &
$str' )
)) *
;* +
TEntity 
GetByID 
( 
object 
id !
)! "
;" #
void 
Insert 
( 
TEntity 
entity "
)" #
;# $
void 
Delete 
( 
object 
id 
) 
; 
void 
Delete 
( 
TEntity 
entityToDelete *
)* +
;+ ,
void 
Update 
( 
TEntity 
entityToUpdate *
)* +
;+ ,
} 
} ‡
lE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\Types\RoleTypes.cs
	namespace 	
Webshop
 
. 
DAL 
. 
Types 
{ 
public 

static 
class 
	RoleTypes !
{ 
public 
const 
string 
Admin !
=" #
$str$ +
;+ ,
public 
const 
string 
Regular #
=$ %
$str& /
;/ 0
public 
const 
string 
All 
=  !
$str" 2
;2 3
public 
const 
string 
	RoleScope %
=& '
$str( /
;/ 0
} 
} √
ÇE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\UnitOfWork\Implementations\UnitOfWork.cs
	namespace 	
Webshop
 
. 
DAL 
. 

UnitOfWork  
.  !
Implementations! 0
{ 
public 

class 

UnitOfWork 
: 
IUnitOfWork )
{ 
private 
readonly 
WebshopDbContext )
context* 1
;1 2
private 
readonly 
IGenericRepository +
<+ ,
ApplicationUser, ;
>; <
userRepository= K
;K L
private 
readonly 
IGenericRepository +
<+ ,
Caff, 0
>0 1
caffRepository2 @
;@ A
private 
readonly 
IGenericRepository +
<+ ,
Ciff, 0
>0 1
ciffRepository2 @
;@ A
private 
readonly 
IGenericRepository +
<+ ,
Comment, 3
>3 4
commentRepository5 F
;F G
public 
IGenericRepository !
<! "
ApplicationUser" 1
>1 2
UserRepository3 A
=>B D
userRepositoryE S
;S T
public 
IGenericRepository !
<! "
Caff" &
>& '
CaffRepository( 6
=>7 9
caffRepository: H
;H I
public 
IGenericRepository !
<! "
Ciff" &
>& '
CiffRepository( 6
=>7 9
ciffRepository: H
;H I
public 
IGenericRepository !
<! "
Comment" )
>) *
CommentRepository+ <
=>= ?
commentRepository@ Q
;Q R
public 

UnitOfWork 
( 
WebshopDbContext *
context+ 2
,2 3
IGenericRepository 
< 
ApplicationUser .
>. /
userRepository0 >
,> ?
IGenericRepository 
< 
Caff #
># $
caffRepository% 3
,3 4
IGenericRepository   
<   
Ciff   #
>  # $
ciffRepository  % 3
,  3 4
IGenericRepository!! 
<!! 
Comment!! &
>!!& '
commentRepository!!( 9
)!!9 :
{"" 	
this## 
.## 
context## 
=## 
context## "
;##" #
this$$ 
.$$ 
userRepository$$ 
=$$  !
userRepository$$" 0
;$$0 1
this%% 
.%% 
caffRepository%% 
=%%  !
caffRepository%%" 0
;%%0 1
this&& 
.&& 
ciffRepository&& 
=&&  !
ciffRepository&&" 0
;&&0 1
this'' 
.'' 
commentRepository'' "
=''# $
commentRepository''% 6
;''6 7
}(( 	
public** 
async** 
Task** 
Save** 
(** 
)**  
{++ 	
await,, 
context,, 
.,, 
SaveChangesAsync,, *
(,,* +
),,+ ,
;,,, -
}-- 	
}.. 
}// û	
~E:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\UnitOfWork\Interfaces\IUnitOfWork.cs
	namespace		 	
Webshop		
 
.		 
DAL		 
.		 

UnitOfWork		  
.		  !

Interfaces		! +
{

 
public 

	interface 
IUnitOfWork  
{ 
IGenericRepository 
< 
ApplicationUser *
>* +
UserRepository, :
{; <
get= @
;@ A
}B C
IGenericRepository 
< 
Caff 
>  
CaffRepository! /
{0 1
get2 5
;5 6
}7 8
IGenericRepository 
< 
Ciff 
>  
CiffRepository! /
{0 1
get2 5
;5 6
}7 8
IGenericRepository 
< 
Comment "
>" #
CommentRepository$ 5
{6 7
get8 ;
;; <
}= >
Task 
Save 
( 
) 
; 
} 
} à:
mE:\Desktop\Szamitogep_biztonsag\Szamitogep-biztonsag-VIHIMA06\Webshop\Backend\Webshop.DAL\WebshopDbContext.cs
	namespace 	
Webshop
 
. 
DAL 
{ 
public 

class 
WebshopDbContext !
:" #
IdentityDbContext$ 5
<5 6
ApplicationUser6 E
,E F
ApplicationRoleG V
,V W
GuidX \
>\ ]
{ 
public		 
DbSet		 
<		 
ApplicationUser		 $
>		$ %
ApplicationUsers		& 6
=>		7 9
Set		: =
<		= >
ApplicationUser		> M
>		M N
(		N O
)		O P
;		P Q
public 
DbSet 
< 
Ciff 
> 
Ciffs  
=>! #
Set$ '
<' (
Ciff( ,
>, -
(- .
). /
;/ 0
public 
DbSet 
< 
Caff 
> 
Caffs  
=>! #
Set$ '
<' (
Caff( ,
>, -
(- .
). /
;/ 0
public 
DbSet 
< 
Comment 
> 
Comments &
=>' )
Set* -
<- .
Comment. 5
>5 6
(6 7
)7 8
;8 9
public 
WebshopDbContext 
(  
DbContextOptions  0
<0 1
WebshopDbContext1 A
>A B
optionsC J
)J K
:L M
baseN R
(R S
optionsS Z
)Z [
{\ ]
}^ _
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
builder 
. 
Entity 
< 
ApplicationUser *
>* +
(+ ,
), -
. 
HasMany 
( 
e 
=> 
e 
.  
Claims  &
)& '
. 
WithOne 
( 
) 
. 
HasForeignKey 
( 
uc !
=>" $
uc% '
.' (
UserId( .
). /
. 
OnDelete 
( 
DeleteBehavior (
.( )
NoAction) 1
)1 2
. 

IsRequired 
( 
) 
; 
builder 
. 
Entity 
< 
ApplicationUser *
>* +
(+ ,
), -
.   
HasMany   
(   
e   
=>   
e   
.    
Logins    &
)  & '
.!! 
WithOne!! 
(!! 
)!! 
."" 
HasForeignKey"" 
("" 
uc"" !
=>""" $
uc""% '
.""' (
UserId""( .
)"". /
.## 
OnDelete## 
(## 
DeleteBehavior## (
.##( )
NoAction##) 1
)##1 2
.$$ 

IsRequired$$ 
($$ 
)$$ 
;$$ 
builder&& 
.&& 
Entity&& 
<&& 
ApplicationUser&& *
>&&* +
(&&+ ,
)&&, -
.'' 
HasMany'' 
('' 
e'' 
=>'' 
e'' 
.''  
Tokens''  &
)''& '
.(( 
WithOne(( 
((( 
)(( 
.)) 
HasForeignKey)) 
()) 
uc)) !
=>))" $
uc))% '
.))' (
UserId))( .
))). /
.** 
OnDelete** 
(** 
DeleteBehavior** (
.**( )
NoAction**) 1
)**1 2
.++ 

IsRequired++ 
(++ 
)++ 
;++ 
builder-- 
.-- 
Entity-- 
<-- 
ApplicationUser-- *
>--* +
(--+ ,
)--, -
... 
HasMany.. 
(.. 
e.. 
=>.. 
e.. 
...  
	UserRoles..  )
)..) *
.// 
WithOne// 
(// 
)// 
.00 
HasForeignKey00 
(00 
uc00 !
=>00" $
uc00% '
.00' (
UserId00( .
)00. /
.11 
OnDelete11 
(11 
DeleteBehavior11 (
.11( )
NoAction11) 1
)111 2
.22 

IsRequired22 
(22 
)22 
;22 
builder44 
.44 
Entity44 
<44 
ApplicationUser44 *
>44* +
(44+ ,
)44, -
.55 
HasMany55 
(55 
e55 
=>55 
e55 
.55  
UploadedCaffs55  -
)55- .
.66 
WithOne66 
(66 
e66 
=>66 
e66 
.66  
Uploader66  (
)66( )
;66) *
builder88 
.88 
Entity88 
<88 
ApplicationUser88 *
>88* +
(88+ ,
)88, -
.99 
HasMany99 
(99 
e99 
=>99 
e99 
.99  
BoughtCaffs99  +
)99+ ,
.:: 
WithOne:: 
(:: 
e:: 
=>:: 
e:: 
.::  
BoughtBy::  (
)::( )
.;; 

IsRequired;; 
(;; 
false;; !
);;! "
;;;" #
builder== 
.== 
Entity== 
<== 
Caff== 
>==  
(==  !
)==! "
.>> 
HasOne>> 
(>> 
e>> 
=>>> 
e>> 
.>> 
Uploader>> '
)>>' (
.?? 
WithMany?? 
(?? 
e?? 
=>?? 
e??  
.??  !
UploadedCaffs??! .
)??. /
;??/ 0
builderAA 
.AA 
EntityAA 
<AA 
CommentAA "
>AA" #
(AA# $
)AA$ %
.BB 
HasOneBB 
(BB 
eBB 
=>BB 
eBB 
.BB 
CommentedCaffBB ,
)BB, -
.CC 
WithManyCC 
(CC 
eCC 
=>CC 
eCC  
.CC  !
CommentsCC! )
)CC) *
;CC* +
builderEE 
.EE 
EntityEE 
<EE 
CommentEE "
>EE" #
(EE# $
)EE$ %
.FF 
HasOneFF 
(FF 
eFF 
=>FF 
eFF 
.FF 
	CommenterFF (
)FF( )
.GG 
WithManyGG 
(GG 
)GG 
.HH 
OnDeleteHH 
(HH 
DeleteBehaviorHH (
.HH( )
NoActionHH) 1
)HH1 2
;HH2 3
}II 	
}JJ 
}KK 